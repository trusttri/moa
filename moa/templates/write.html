{% extends "_base_with_nav.html" %}
{% load crispy_forms_tags %}
{% load static %}

{% block main %}
  
    <div>
      <h4> Share your experience based on your consent boundaries.</h4>
      Disclosing your experience about relationships with faculty can be anxiety-inducing. Below, you can write what you want to share to an audience you customize based on types of experiences, identities that are important to you, and name(s) of faculty members you want to associate (or avoid).
      Your message will only appear to those who meet the criteria that you set.
    </div>
    <br>
    <!-- example -->
    <!-- <form action="/your-name/" method="post">
      {% csrf_token %}
      <label for="your_name">Your name: </label>
      <input id="your_name" type="text" name="your_name" value="{{ current_name }}">
      <input type="submit" value="OK">
    </form> -->

    
      <form action="submit-experience/" method="post">
        {% csrf_token %}
        <div>
          <h5>1. Write your experience</h5>
          <label for="title">Title </label>
          <textarea class="form-control" id="title" type="text" name="title" value="" rows="1"></textarea>
          <label for="description">Description </label>
          <textarea class="form-control" id="description" type="text" name="description" value="" rows="3"></textarea>
        </div>

        <div>
          <label for="tags">Tags </label>
          <br>
          {% for tag in tag_list %}
            <button class="tag advising-experience">{{ tag.keyword }}</button>
          {% endfor %}
        </div>
        
        <br>
        <br>
        <!-- <input type="submit" value="submit">
      </form> -->

        <div class="audience-customize experience">
          <h5>2. Set consent boundary for this experience sharing</h5>
          <br>
          <!-- Feel free to customize your consent boundary for this individual experience. -->
          <h6>I want to ONLY show this experience to people...</h6>
          <br>
          <div>
            <!-- <form action="set/" method="post"> -->
              <!-- {% csrf_token %} -->
              <label for="phd_year">{{ consent_form.phd_year.label }}</label>
              <br>
              <fieldset>
                <label for="id_phd_year_0"><input class="phd_year" type="checkbox" name="phd_year" value="1" id="id_phd_year_0" {% if '1' in phd_year_boundary %} checked {% endif %}>1</label>
                <label for="id_phd_year_1"><input class="phd_year" type="checkbox" name="phd_year" value="2" id="id_phd_year_1" {% if '2' in phd_year_boundary %} checked {% endif %}>2</label>
                <label for="id_phd_year_2"><input class="phd_year" type="checkbox" name="phd_year" value="3" id="id_phd_year_2" {% if '3' in phd_year_boundary %} checked {% endif %}>3</label>
                <label for="id_phd_year_3"><input class="phd_year" type="checkbox" name="phd_year" value="4" id="id_phd_year_3" {% if '4' in phd_year_boundary %} checked {% endif %}>4</label>
                <label for="id_phd_year_4"><input class="phd_year" type="checkbox" name="phd_year" value="5" id="id_phd_year_4" {% if '5' in phd_year_boundary %} checked {% endif %}>5</label>
                <label for="id_phd_year_5"><input class="phd_year" type="checkbox" name="phd_year" value="6" id="id_phd_year_5" {% if '6' in phd_year_boundary %} checked {% endif %}>6</label>
                <label for="id_phd_year_6"><input class="phd_year" type="checkbox" name="phd_year" value="7" id="id_phd_year_6" {% if '7' in phd_year_boundary %} checked {% endif %}>7</label>
                <label for="id_phd_year_7"><input class="phd_year" type="checkbox" name="phd_year" value="8" id="id_phd_year_7" {% if '8' in phd_year_boundary %} checked {% endif %}>8</label>
                <label for="id_phd_year_8"><input class="phd_year" type="checkbox" name="phd_year" value="9" id="id_phd_year_8" {% if '9' in phd_year_boundary %} checked {% endif %}>9</label>
                <label for="id_phd_year_9"><input class="phd_year" type="checkbox" name="phd_year" value="10" id="id_phd_year_9" {% if '10' in phd_year_boundary %} checked {% endif %}>10</label>
              </fieldset>
                      
              <br>

              <label for="international_student">{{ consent_form.international_student.label }}</label>
              <input id="international_student" type="checkbox" name="international_student" {% if international_student %} checked {% endif %}/>
            
              <br>

              <label for="first_gen">{{ consent_form.first_gen.label }}</label>
              <input id="first_gen" type="checkbox" name="first_gen" {% if first_gen %} checked {% endif %}/>

              <br>
              <br>

              who have experienced the following in their advising relationship(s)
              <br>
              {% for tag in tag_list %}
                <button class="tag advising-experience">{{ tag.keyword }}</button>
              {% endfor %}
              <br>
              <br>
              
              <label for="other_info">other information you would like the moderator to reference</label>
              <textarea class="form-control" id="other_info" type="text" name="other_info" value="" rows="3">{{ other_info }}</textarea>      
              <br>
              <input type="submit" value="submit">
          </div>
        </div>
      </form>
    
    <br>
    <!-- 
    <br>
    <div>
      <h6>...who attend the following institutions.</h6>
    </div> -->
  <!--   <div class="audience-customize">
        <h5>Fa   Â tculty name(s)</h5>
    </div> -->

    <div>
      {% include 'message.html' %}
    </div>

    {% block scripts %}

    <script src="{% static 'js/jquery.min.js' %}"></script>
    <script>
      console.log('hi');
      function getCookie(name) {
        let cookieValue = null;
        if (document.cookie && document.cookie !== '') {
            const cookies = document.cookie.split(';');
            for (let i = 0; i < cookies.length; i++) {
                const cookie = cookies[i].trim();
                // Does this cookie string begin with the name we want?
                if (cookie.substring(0, name.length + 1) === (name + '=')) {
                    cookieValue = decodeURIComponent(cookie.substring(name.length + 1));
                    break;
                }
            }
        }
        return cookieValue;
      }
      const csrftoken = getCookie('csrftoken');

      $(document).ready(function() {

        $("#write")[0].classList.add("tab-selected");
          
      });

    </script>
    {% endblock %}

{% endblock %}





